<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SetTimeOut Form (Row Wise)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="./SetTimeOut.css">
</head>
<body>

<!-- Button trigger modal -->
<button id="center-btn" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal"  data-bs-backdrop="static" data-bs-keyboard="false">
  Add Student
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div id="form-bg" class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add Student Detail</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div style="height: 430px;" class="modal-body">
      <!--  -->
      <form id="myForm" action="">
      <h1>Sign Up</h1>
      <div class="input-box">
      <label for="">Name:</label>
      <input required oninvalid="alert('Write Name')" type="text" value="" id="name"><br><br>
      <i class="fa-solid fa-user"></i>
    </div>
    <div class="input-box">
      <label for="">Email:</label>
      <input required type="email" value="" id="email"><br><br>
      <i class="fa-solid fa-envelope"></i>
    </div>
      <div class="input-box">
      <label for="">Password</label>
      <input required type="password" value="" id="password"><br><br>
      <i class="fa-solid fa-lock"></i>
    </div>
      <div class="input-box">
      <label for="">Number</label>
      <input required type="number" value="" id="number">
      <i style="top: -60%;" class="fa-solid fa-phone"></i>
    </div>
    
    <div id="forget">
      <label for=""><input type="checkbox">Remember me</label>
      <a href="">Forget password?</a>
    </div>
      <!--  -->
      </div>
      <div class="modal-footer">
        <button type="reset" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Submit</button>
        
      
        <div id="login">
          <p>If you have already an account?
            <a href="">Login</a>
          </p>
        </div>
      </div>
    </form>
    </div>
  </div>
</div>


  <div id="table-style">
  <table id="tbl" border="3px" cellspacing='0'>
    <thead style="background: palevioletred;">
      <th style="background: rgb(218, 71, 95);">Name</th>
      <th style="background: rgb(218, 71, 95);">Email</th>
      <th style="background: rgb(218, 71, 95);">Password</th>
      <th style="background: rgb(218, 71, 95);">Phone Number</th>
      <th style="background: rgb(218, 71, 95);" colspan="3">Updation</th>
</thead>
</table>
</div>

  <script>


  document.getElementById("myForm").addEventListener("submit", function(e) {
  e.preventDefault();


  let name = document.getElementById("name").value;
  let email = document.getElementById("email").value;
  let password = document.getElementById("password").value;
  let number = document.getElementById("number").value;


  let arr = [name, email, password, number];


  let table = document.getElementById("tbl");
  let newRow = table.insertRow();

  for (let i = 0; i < arr.length; i++) {
    let newCell = newRow.insertCell(i);
    newCell.style.padding = "10px";
    newCell.textContent = arr[i];
  }

  setTimeout(Clear, 10000);

  function Clear(){
    table.deleteRow(newRow.rowIndex);
  }

  let editCell=newRow.insertCell()
  let editButton=document.createElement("button")
  editButton.textContent="Edit"
  editButton.classList.add("javabtn")
  editButton.onclick=function(){
    editRow(this)
  }
editCell.appendChild(editButton)


let DeleteCell=newRow.insertCell()
let deletebutton=document.createElement("button")
deletebutton.textContent="Delete"
deletebutton.classList.add("javabtn")
deletebutton.onclick=function(){
  deleteRow(this)
}
DeleteCell.appendChild(deletebutton)





        name=document.getElementById("name").value=""
        email=document.getElementById("email").value=""
        password=document.getElementById("password").value=""
        number=document.getElementById("number").value=""
    });

 


//     setTimeout(Data,10000)
// function Data(){
//     // let dis=document.getElementById("tbl")
//     // dis.style.display="none"
//     location.reload()
// }


    function deleteRow(btn){
  let b=btn.parentNode.parentNode;
  b.parentNode.removeChild(b)
}

function deleteAll(){
  location.reload()
}

function editRow(btn) {
  let row = btn.parentNode.parentNode;
  let td = row.getElementsByTagName('td');
  let isEditing = btn.innerText === 'Edit';

  for (let i = 0; i < td.length -2; i++) {
    if (isEditing) {
      let newdata = td[i].innerText;
      td[i].innerHTML = `<input type='text' value='${newdata}' />`
    } else {
      let olddata = td[i].getElementsByTagName('input')[0];
      td[i].innerText = olddata.value;
    }
  }

  btn.innerText = isEditing ? 'Save' : 'Edit';
} 
  </script>
</body>
</html>